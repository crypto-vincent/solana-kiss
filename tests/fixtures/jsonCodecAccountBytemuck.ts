
import {JsonCodecContent,jsonCodecBytesArray,jsonCodecArrayToTuple,jsonCodecBigInt,jsonCodecObjectToObject,jsonCodecConst,jsonCodecNumber,jsonCodecNullable,jsonCodecObjectToEnum,jsonCodecArrayToArray,jsonCodecBoolean,jsonCodecPubkey} from "../../src";

export type JsonContent = JsonCodecContent<typeof jsonCodec>;

export const jsonCodec = jsonCodecObjectToObject({state:jsonCodecObjectToObject({metadata:jsonCodecObjectToObject({name:jsonCodecArrayToTuple([jsonCodecBytesArray]),description:jsonCodecArrayToTuple([jsonCodecBytesArray]),numParameters:jsonCodecBigInt,vocabSize:jsonCodecBigInt}),coordinator:jsonCodecObjectToObject({runId:jsonCodecArrayToTuple([jsonCodecBytesArray]),runState:jsonCodecConst("Uninitialized","WaitingForMembers","Warmup","RoundTrain","RoundWitness","Cooldown","Finished","Paused"),model:jsonCodecObjectToEnum({LLM:jsonCodecArrayToTuple([jsonCodecObjectToObject({maxSeqLen:jsonCodecNumber,coldStartWarmupSteps:jsonCodecNumber,architecture:jsonCodecConst("HfLlama","HfDeepseek","HfAuto"),checkpoint:jsonCodecObjectToEnum({Ephemeral:jsonCodecConst(null),Dummy:jsonCodecArrayToTuple([jsonCodecObjectToObject({repoId:jsonCodecArrayToTuple([jsonCodecBytesArray]),revision:jsonCodecNullable(jsonCodecArrayToTuple([jsonCodecBytesArray]))})]),Hub:jsonCodecArrayToTuple([jsonCodecObjectToObject({repoId:jsonCodecArrayToTuple([jsonCodecBytesArray]),revision:jsonCodecNullable(jsonCodecArrayToTuple([jsonCodecBytesArray]))})]),P2P:jsonCodecArrayToTuple([jsonCodecObjectToObject({repoId:jsonCodecArrayToTuple([jsonCodecBytesArray]),revision:jsonCodecNullable(jsonCodecArrayToTuple([jsonCodecBytesArray]))})])}),dataType:jsonCodecConst("Pretraining","Finetuning"),dataLocation:jsonCodecObjectToEnum({Dummy:jsonCodecConst(null),Server:jsonCodecArrayToTuple([jsonCodecArrayToTuple([jsonCodecBytesArray])]),Local:jsonCodecArrayToTuple([jsonCodecArrayToTuple([jsonCodecBytesArray])]),Http:jsonCodecArrayToTuple([jsonCodecObjectToObject({location:jsonCodecObjectToEnum({SingleUrl:jsonCodecArrayToTuple([jsonCodecArrayToTuple([jsonCodecBytesArray])]),NumberedFiles:jsonCodecObjectToObject({urlTemplate:jsonCodecArrayToTuple([jsonCodecBytesArray]),startIndex:jsonCodecNumber,nLeftPadZeros:jsonCodecNumber,numFiles:jsonCodecNumber}),Gcp:jsonCodecObjectToObject({bucketName:jsonCodecArrayToTuple([jsonCodecBytesArray]),filterDirectory:jsonCodecArrayToTuple([jsonCodecBytesArray])})}),tokenSizeInBytes:jsonCodecConst("TwoBytes","FourBytes"),shuffle:jsonCodecObjectToEnum({DontShuffle:jsonCodecConst(null),Seeded:jsonCodecArrayToTuple([jsonCodecBytesArray])})})]),WeightedHttp:jsonCodecArrayToTuple([jsonCodecArrayToTuple([jsonCodecBytesArray])]),Preprocessed:jsonCodecArrayToTuple([jsonCodecArrayToTuple([jsonCodecBytesArray])])}),lrSchedule:jsonCodecObjectToEnum({Constant:jsonCodecArrayToTuple([jsonCodecObjectToObject({baseLr:jsonCodecNumber,warmupInitLr:jsonCodecNumber,warmupSteps:jsonCodecNumber})]),Linear:jsonCodecArrayToTuple([jsonCodecObjectToObject({baseLr:jsonCodecNumber,warmupInitLr:jsonCodecNumber,finalLr:jsonCodecNumber,warmupSteps:jsonCodecNumber,totalSteps:jsonCodecNumber})]),Cosine:jsonCodecArrayToTuple([jsonCodecObjectToObject({baseLr:jsonCodecNumber,warmupInitLr:jsonCodecNumber,finalLr:jsonCodecNumber,warmupSteps:jsonCodecNumber,totalSteps:jsonCodecNumber})]),WarmupStableDecay:jsonCodecArrayToTuple([jsonCodecObjectToObject({baseLr:jsonCodecNumber,warmupInitLr:jsonCodecNumber,cosineDecayFinalLr:jsonCodecNumber,linearDecayFinalLr:jsonCodecNumber,warmupSteps:jsonCodecNumber,stableSteps:jsonCodecNumber,cosineDecaySteps:jsonCodecNumber,linearDecaySteps:jsonCodecNumber})])}),optimizer:jsonCodecObjectToEnum({Dummy:jsonCodecConst(null),AdamW:jsonCodecObjectToObject({betas:jsonCodecArrayToArray(jsonCodecNumber),weightDecay:jsonCodecNumber,eps:jsonCodecNumber,clipGradNorm:jsonCodecNullable(jsonCodecNumber)}),Distro:jsonCodecObjectToObject({clipGradNorm:jsonCodecNullable(jsonCodecNumber),weightDecay:jsonCodecNullable(jsonCodecNumber),compressionDecay:jsonCodecNumber,compressionTopk:jsonCodecNumber,compressionChunk:jsonCodecNumber,quantize_1bit:jsonCodecBoolean})})})])}),config:jsonCodecObjectToObject({warmupTime:jsonCodecBigInt,cooldownTime:jsonCodecBigInt,maxRoundTrainTime:jsonCodecBigInt,roundWitnessTime:jsonCodecBigInt,globalBatchSizeWarmupTokens:jsonCodecBigInt,roundsPerEpoch:jsonCodecNumber,totalSteps:jsonCodecNumber,initMinClients:jsonCodecNumber,minClients:jsonCodecNumber,witnessNodes:jsonCodecNumber,globalBatchSizeStart:jsonCodecNumber,globalBatchSizeEnd:jsonCodecNumber,verificationPercent:jsonCodecNumber}),progress:jsonCodecObjectToObject({epoch:jsonCodecNumber,step:jsonCodecNumber,epochStartDataIndex:jsonCodecBigInt}),epochState:jsonCodecObjectToObject({rounds:jsonCodecArrayToArray(jsonCodecObjectToObject({witnesses:jsonCodecObjectToObject({data:jsonCodecArrayToArray(jsonCodecObjectToObject({proof:jsonCodecObjectToObject({position:jsonCodecBigInt,index:jsonCodecBigInt,witness:jsonCodecArrayToTuple([jsonCodecNumber])}),participantBloom:jsonCodecObjectToObject({keys:jsonCodecArrayToArray(jsonCodecBigInt),bits:jsonCodecObjectToObject({0:jsonCodecArrayToArray(jsonCodecBigInt)})}),broadcastBloom:jsonCodecObjectToObject({keys:jsonCodecArrayToArray(jsonCodecBigInt),bits:jsonCodecObjectToObject({0:jsonCodecArrayToArray(jsonCodecBigInt)})}),broadcastMerkle:jsonCodecObjectToObject({inner:jsonCodecBytesArray})})),len:jsonCodecBigInt}),dataIndex:jsonCodecBigInt,randomSeed:jsonCodecBigInt,height:jsonCodecNumber,clientsLen:jsonCodecNumber,tieBreakerTasks:jsonCodecNumber})),clients:jsonCodecObjectToObject({data:jsonCodecArrayToArray(jsonCodecObjectToObject({id:jsonCodecObjectToObject({signer:jsonCodecPubkey,p2pIdentity:jsonCodecBytesArray}),state:jsonCodecConst("Healthy","Dropped","Withdrawn","Ejected"),exitedHeight:jsonCodecNumber})),len:jsonCodecBigInt}),exitedClients:jsonCodecObjectToObject({data:jsonCodecArrayToArray(jsonCodecObjectToObject({id:jsonCodecObjectToObject({signer:jsonCodecPubkey,p2pIdentity:jsonCodecBytesArray}),state:jsonCodecConst("Healthy","Dropped","Withdrawn","Ejected"),exitedHeight:jsonCodecNumber})),len:jsonCodecBigInt}),roundsHead:jsonCodecNumber,startStep:jsonCodecNumber,firstRound:jsonCodecArrayToTuple([jsonCodecNumber]),checkpointed:jsonCodecArrayToTuple([jsonCodecNumber]),coldStartEpoch:jsonCodecArrayToTuple([jsonCodecNumber])}),runStateStartUnixTimestamp:jsonCodecBigInt,pendingPause:jsonCodecArrayToTuple([jsonCodecNumber])}),clientsState:jsonCodecObjectToObject({clients:jsonCodecObjectToObject({data:jsonCodecArrayToArray(jsonCodecObjectToObject({id:jsonCodecObjectToObject({signer:jsonCodecPubkey,p2pIdentity:jsonCodecBytesArray}),Unused:jsonCodecBytesArray,earned:jsonCodecBigInt,slashed:jsonCodecBigInt,active:jsonCodecBigInt})),len:jsonCodecBigInt}),nextActive:jsonCodecBigInt,currentEpochRates:jsonCodecObjectToObject({earningRate:jsonCodecBigInt,slashingRate:jsonCodecBigInt}),futureEpochRates:jsonCodecObjectToObject({earningRate:jsonCodecBigInt,slashingRate:jsonCodecBigInt})}),isWarmupFirstTick:jsonCodecArrayToTuple([jsonCodecNumber]),isTrainingFirstTick:jsonCodecArrayToTuple([jsonCodecNumber])}),nonce:jsonCodecBigInt});
